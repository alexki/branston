

Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 10:13:26) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 29ms (DB: 0) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-12-07 10:13:26) [GET]
Rendering template within layouts/main
Rendering sessions/new
Rendered layouts/_meta (1.0ms)
Rendered layouts/_header (2.0ms)
Rendered layouts/_footer (1.1ms)
Completed in 139ms (View: 134, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2009-12-07 10:14:48) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"q/33zTJnGX2VNFDPz7LDsj3WshWOEOYRLB/h2azpg8k=", "login"=>"steve", "password"=>"password"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = 'steve') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 92ms (DB: 1) | 302 Found [http://localhost/session]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 10:14:48) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 51ms (View: 19, DB: 1) | 200 OK [http://localhost/]


Processing IterationsController#new (for 127.0.0.1 at 2009-12-07 10:14:52) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mRelease Load (0.5ms)[0m   [0;1mSELECT * FROM "releases" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "releases" [0m
Rendering template within layouts/main
Rendering iterations/new
Rendered iterations/_form (63.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.1ms)
Completed in 156ms (View: 88, DB: 1) | 200 OK [http://localhost/iterations/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:14:56) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( select_tag 'iteration_id', options_for_select(@iterations.map{ |iteration| ['@iteration.name',@iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end) on line #29 of app/views/stories/_story.html.erb:
26:     </div>

    app/views/stories/_story.html.erb:29:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (104.8ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:16:15) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( select_tag 'iteration_id', options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end) on line #29 of app/views/stories/_story.html.erb:
26:     </div>

    app/views/stories/_story.html.erb:29:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (103.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:19:40) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( select_tag 'iteration_id', options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting $end) on line #29 of app/views/stories/_story.html.erb:
26:     </div>

    app/views/stories/_story.html.erb:29:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (105.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:20:09) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...(( remote_form_for @story do ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story do ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( select_tag 'iteration_id', options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...(( remote_form_for @story do ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')') on line #13 of app/views/stories/_story.html.erb:
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <%= remote_form_for @story do -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= select_tag 'iteration_id', options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) %>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (105.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:22:14) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story do |f| ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')') on line #13 of app/views/stories/_story.html.erb:
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <%= remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) %>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (183.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:26:28) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story do |f| ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')') on line #13 of app/views/stories/_story.html.erb:
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <%= remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }) %>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (167.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:28:41) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story do |f| ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')') on line #13 of app/views/stories/_story.html.erb:
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <%= remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id %>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (109.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:28:45) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.empty 
@output_buffer.concat "            "; @output_buffer.concat(( remote_form_for @story do |f| ).to_s)
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'update' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:24:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected ')'
...emote_form_for @story do |f| ).to_s)
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:19: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:29: syntax error, unexpected kENSURE, expecting ')'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31: syntax error, unexpected kEND, expecting ')') on line #13 of app/views/stories/_story.html.erb:
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <%= remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id %>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (102.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:28:59) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `empty' for []:Array) on line #12 of app/views/stories/_story.html.erb:
9:         <p>
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>

    app/views/stories/_story.html.erb:12
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (104.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:29:13) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `empty' for []:Array) on line #12 of app/views/stories/_story.html.erb:
9:         <p>
10:           <%= in_place_editor_field 'story', 'points' %> Points
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.empty -%>
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'update' %>
15:               <%= hidden_field_tag 'id', @story.id %>

    app/views/stories/_story.html.erb:12
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:24:in `index'

Rendered rescues/_trace (105.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:29:24) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.0ms)
Rendered stories/_story (16.1ms)
Rendered stories/_story (86.5ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 191ms (View: 143, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:30:00) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
  [4;36;1mIteration Load (0.2ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (16.6ms)
Rendered stories/_story (11.5ms)
Rendered stories/_story (11.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 110ms (View: 58, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:30:34) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.2ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (14.2ms)
Rendered stories/_story (12.0ms)
Rendered stories/_story (12.6ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 154ms (View: 52, DB: 2) | 200 OK [http://localhost/stories]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 10:30:37) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.2ms)[0m   [0mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 41ms (View: 8, DB: 1) | 200 OK [http://localhost/iterations]


Processing IterationsController#new (for 127.0.0.1 at 2009-12-07 10:30:39) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mRelease Load (0.2ms)[0m   [0mSELECT * FROM "releases" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "releases" [0m
Rendering template within layouts/main
Rendering iterations/new
Rendered iterations/_form (8.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 119ms (View: 23, DB: 1) | 200 OK [http://localhost/iterations/new]


Processing IterationsController#create (for 127.0.0.1 at 2009-12-07 10:30:54) [POST]
  Parameters: {"iteration"=>{"start_date"=>"December 9, 2009 10:30 AM", "name"=>"Iteration 1", "end_date"=>"December 31, 2009 10:30 AM", "velocity"=>"33"}, "commit"=>"Create", "authenticity_token"=>"q/33zTJnGX2VNFDPz7LDsj3WshWOEOYRLB/h2azpg8k="}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Create (0.5ms)[0m   [0;1mINSERT INTO "iterations" ("name", "start_date", "created_at", "updated_at", "release_id", "velocity", "end_date") VALUES('Iteration 1', '2009-12-09 10:30:00', '2009-12-07 10:30:54', '2009-12-07 10:30:54', NULL, 33, '2009-12-31 10:30:00')[0m
Redirected to http://localhost:3000/iterations
Completed in 263ms (DB: 1) | 302 Found [http://localhost/iterations]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 10:30:54) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 62ms (View: 27, DB: 1) | 200 OK [http://localhost/iterations]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:30:57) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.8ms)
Rendered stories/_story (16.6ms)
Rendered stories/_story (16.8ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 124ms (View: 71, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:31:41) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.2ms)
Rendered stories/_story (16.3ms)
Rendered stories/_story (17.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.2ms)
Completed in 130ms (View: 79, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:31:56) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.0ms)
Rendered stories/_story (17.4ms)
Rendered stories/_story (17.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 124ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:45:05) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `hidden_field_tag' for #<ActionView::Helpers::FormBuilder:0xb6edf894>) on line #14 of app/views/stories/_story.html.erb:
11:           &nbsp;&bull;
12:           <% unless @iterations.nil? or @iterations.size == 0 -%>
13:             <% remote_form_for @story do |f| -%>
14:               <%= f.hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }.insert(0,"-- Assign Iteration --")), :onchange => "this.form.submit()" %>
17:             <% end -%>

    app/views/stories/_story.html.erb:14
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (110.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:45:28) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.5ms)
Rendered stories/_story (17.6ms)
Rendered stories/_story (16.8ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.2ms)
Completed in 200ms (View: 150, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:45:36) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.5ms)
Rendered stories/_story (17.4ms)
Rendered stories/_story (16.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 123ms (View: 71, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:46:42) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: odd number list for Hash
...0,"-- Assign Iteration --")) }, :onchange => "this.form.subm...
                              ^
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.size == 0 
@output_buffer.concat "            ";  remote_form_for @story do |f| 
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'PUT' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id, { options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }.insert(0,"-- Assign Iteration --")) }, :onchange => "this.form.submit()" ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:23:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: odd number list for Hash
...0,"-- Assign Iteration --")) }, :onchange => "this.form.subm...
                              ^) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id, { options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }.insert(0,"-- Assign Iteration --")) }, :onchange => "this.form.submit()" %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (105.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:47:02) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (28.7ms)
Rendered stories/_story (18.3ms)
Rendered stories/_story (19.6ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 203ms (View: 86, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:55:58) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (26.3ms)
Rendered stories/_story (16.3ms)
Rendered stories/_story (16.3ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.2ms)
Completed in 126ms (View: 76, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 10:56:04) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.1ms)
Rendered stories/_story (17.9ms)
Rendered stories/_story (17.6ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 127ms (View: 74, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:00:06) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: syntax error, unexpected ';', expecting ')'
..."this.form.submit()"} ).to_s); @output_buffer.concat "\n    ...
                              ^
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.size == 0 
@output_buffer.concat "            ";  remote_form_for @story do |f| 
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'PUT' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :story, :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:23:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: syntax error, unexpected ';', expecting ')'
..."this.form.submit()"} ).to_s); @output_buffer.concat "\n    ...
                              ^) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:00:29) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: syntax error, unexpected ';', expecting ')'
..."this.form.submit()"} ).to_s); @output_buffer.concat "\n    ...
                              ^
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <p>\n          "

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points\n          &nbsp;&bull;\n          "

;  unless @iterations.nil? or @iterations.size == 0 
@output_buffer.concat "            ";  remote_form_for @story do |f| 
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'PUT' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :story, :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          &nbsp;&bull;\n          "
;  end 
@output_buffer.concat "          "; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "\n        </p>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n\n"




; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:31:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:48:in `_run_erb_app47views47stories47index46html46erb'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:47:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:23:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:16: syntax error, unexpected ';', expecting ')'
..."this.form.submit()"} ).to_s); @output_buffer.concat "\n    ...
                              ^) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:31:in `compile!'
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (109.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:01:20) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `merge' for "<option value=\"1\">Iteration 1</option>":String) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, options_for_select(@iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }), {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:16
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (186.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:02:46) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `merge' for [["Iteration 1", 1]]:Array) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, @iterations.collect{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:16
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (188.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:02:58) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `merge' for [["Iteration 1", 1]]:Array) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, @iterations.map{ |iteration| ["#{iteration.name}",iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:16
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (186.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:03:39) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `merge' for [["Iteration 1", 1]]:Array) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, @iterations.map{ |iteration| [iteration.name,iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:16
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (182.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:04:02) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m

ActionView::TemplateError (undefined method `merge' for #<Array:0xb6ce68a8>) on line #16 of app/views/stories/_story.html.erb:
13:             <% remote_form_for @story do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :story, :iteration_id, @iterations.each{ |iteration| [iteration.name,iteration.id] }, {:prompt => "Assign Iteration", :onchange => "this.form.submit()"} %>
17:             <% end -%>
18:           &nbsp;&bull;
19:           <% end -%>

    app/views/stories/_story.html.erb:16
    app/views/stories/_story.html.erb:13
    app/views/stories/index.html.erb:48
    app/views/stories/index.html.erb:47:in `each'
    app/views/stories/index.html.erb:47
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (178.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 11:12:44) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 9ms (DB: 0) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-12-07 11:12:44) [GET]
Rendering template within layouts/main
Rendering sessions/new
Rendered layouts/_meta (0.8ms)
Rendered layouts/_header (1.5ms)
Rendered layouts/_footer (0.8ms)
Completed in 66ms (View: 61, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2009-12-07 11:12:49) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"UQXXCFV/HS0SyYjxa2E8Ssp1S1kTy5O6P7KTv+YWtwQ=", "login"=>"steve", "password"=>"password"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = 'steve') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 90ms (DB: 1) | 302 Found [http://localhost/session]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 11:12:49) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 168ms (View: 136, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 11:12:53) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.8ms)
Rendered stories/_story (16.7ms)
Rendered stories/_story (16.0ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 196ms (View: 146, DB: 2) | 200 OK [http://localhost/stories]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 18:08:46) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 30ms (DB: 0) | 302 Found [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-12-07 18:08:46) [GET]
Rendering template within layouts/main
Rendering sessions/new
Rendered layouts/_meta (1.4ms)
Rendered layouts/_header (1.9ms)
Rendered layouts/_footer (1.1ms)
Completed in 178ms (View: 173, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#create (for 127.0.0.1 at 2009-12-07 18:09:53) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "login"=>"steve", "password"=>"password"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login" = 'steve') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 124ms (DB: 1) | 302 Found [http://localhost/session]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-07 18:09:54) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (1.4ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 332ms (View: 263, DB: 2) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:09:57) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (31.6ms)
Rendered stories/_story (17.9ms)
Rendered stories/_story (17.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.2ms)
Completed in 260ms (View: 117, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:10:54) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (25.2ms)
Rendered stories/_story (15.6ms)
Rendered stories/_story (16.1ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 120ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-07 18:10:58) [PUT]
  Parameters: {"story"=>{"iteration"=>""}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Iteration(#-612783038) expected, got String(#-607921668)):
  app/controllers/stories_controller.rb:80:in `update'
  app/controllers/stories_controller.rb:79:in `update'

Rendered rescues/_trace (75.7ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:13:12) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.9ms)
Rendered stories/_story (16.9ms)
Rendered stories/_story (17.1ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 189ms (View: 81, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:18:01) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (26.0ms)
Rendered stories/_story (17.4ms)
Rendered stories/_story (17.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 129ms (View: 79, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:18:08) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.8ms)
Rendered stories/_story (16.9ms)
Rendered stories/_story (16.9ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 121ms (View: 71, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:20:51) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (8.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.8ms)
Rendered stories/_story (17.7ms)
Rendered stories/_story (17.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 187ms (View: 130, DB: 10) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:21:22) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.4ms)
Rendered stories/_story (17.5ms)
Rendered stories/_story (16.3ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 128ms (View: 78, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:21:47) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.2ms)
Rendered stories/_story (16.2ms)
Rendered stories/_story (16.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 120ms (View: 68, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:22:32) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (82.4ms)
Rendered stories/_story (18.4ms)
Rendered stories/_story (17.2ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 180ms (View: 132, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-07 18:23:19) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.3ms)
Rendered stories/_story (17.6ms)
Rendered stories/_story (17.5ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 130ms (View: 80, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-07 18:23:28) [PUT]
  Parameters: {"story"=>{"iteration"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Iteration(#-612517108) expected, got String(#-607921668)):
  app/controllers/stories_controller.rb:80:in `update'
  app/controllers/stories_controller.rb:79:in `update'

Rendered rescues/_trace (76.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 09:44:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (1.5ms)
Rendered layouts/_header (4.5ms)
Rendered layouts/_footer (8.8ms)
Completed in 366ms (View: 157, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:44:26) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (1.4ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (45.1ms)
Rendered stories/_story (16.0ms)
Rendered stories/_story (16.1ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 188ms (View: 102, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 09:44:29) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.4ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 09:44:29', "iteration_id" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3000/stories/1
Completed in 59ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 09:44:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 57ms (View: 13, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:58:22) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (25.5ms)
Rendered stories/_story (15.8ms)
Rendered stories/_story (15.5ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 121ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:58:30) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.7ms)
Rendered stories/_story (15.8ms)
Rendered stories/_story (16.1ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 117ms (View: 67, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:58:46) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.3ms)
Rendered stories/_story (15.9ms)
Rendered stories/_story (15.6ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 114ms (View: 67, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:58:47) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.1ms)
Rendered stories/_story (16.1ms)
Rendered stories/_story (16.0ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 116ms (View: 68, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 09:59:46) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user searches for a competition' AND "stories".id <> 2) LIMIT 1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 09:59:46', "iteration_id" = 1 WHERE "id" = 2[0m
Redirected to http://localhost:3000/stories/2
Completed in 112ms (DB: 2) | 302 Found [http://localhost/stories/2]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 09:59:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 56ms (View: 13, DB: 1) | 200 OK [http://localhost/stories/2]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 09:59:51) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.5ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.6ms)
Rendered stories/_story (16.6ms)
Rendered stories/_story (16.6ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 117ms (View: 69, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 10:00:02) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"3"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.6ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user searches for a paid for competiti' AND "stories".id <> 3) LIMIT 1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:00:02', "iteration_id" = 1 WHERE "id" = 3[0m
Redirected to http://localhost:3000/stories/3
Completed in 64ms (DB: 2) | 302 Found [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:00:02) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 56ms (View: 14, DB: 1) | 200 OK [http://localhost/stories/3]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:00:04) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.9ms)
Rendered stories/_story (71.1ms)
Rendered stories/_story (16.9ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 175ms (View: 125, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:00:34) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.6ms)
Rendered stories/_story (16.4ms)
Rendered stories/_story (16.4ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 120ms (View: 70, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:01:34) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (25.7ms)
Rendered stories/_story (17.8ms)
Rendered stories/_story (18.1ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 184ms (View: 76, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:02:02) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.1ms)
Rendered stories/_story (16.1ms)
Rendered stories/_story (16.7ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 117ms (View: 69, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:02:38) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.0ms)
Rendered stories/_story (15.8ms)
Rendered stories/_story (16.1ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 119ms (View: 70, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:02:53) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.8ms)
Rendered stories/_story (72.1ms)
Rendered stories/_story (16.9ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.4ms)
Completed in 176ms (View: 126, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:04:33) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (26.9ms)
Rendered stories/_story (16.8ms)
Rendered stories/_story (17.3ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 132ms (View: 80, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:04:50) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (25.4ms)
Rendered stories/_story (18.0ms)
Rendered stories/_story (17.7ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 131ms (View: 75, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:05:21) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.7ms)
Rendered stories/_story (16.4ms)
Rendered stories/_story (16.8ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 121ms (View: 70, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:05:38) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.4ms)
Rendered stories/_story (17.8ms)
Rendered stories/_story (17.4ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 126ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:06:40) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.8ms)
Rendered stories/_story (17.4ms)
Rendered stories/_story (18.2ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 188ms (View: 82, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:08:47) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (26.9ms)
Rendered stories/_story (17.5ms)
Rendered stories/_story (17.8ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 130ms (View: 81, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:08:56) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.4ms)
Rendered stories/_story (17.3ms)
Rendered stories/_story (17.7ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 124ms (View: 73, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:09:11) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (25.7ms)
Rendered stories/_story (18.2ms)
Rendered stories/_story (17.6ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 182ms (View: 76, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:09:38) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.0ms)
Rendered stories/_story (17.5ms)
Rendered stories/_story (17.5ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 124ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:10:49) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.4ms)
Rendered stories/_story (17.3ms)
Rendered stories/_story (17.3ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 127ms (View: 73, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:11:41) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.3ms)
Rendered stories/_story (16.7ms)
Rendered stories/_story (16.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 182ms (View: 80, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:12:44) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (26.7ms)
Rendered stories/_story (17.0ms)
Rendered stories/_story (17.0ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 131ms (View: 79, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:13:15) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.2ms)
Rendered stories/_story (17.2ms)
Rendered stories/_story (17.8ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 126ms (View: 74, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:13:32) [GET]
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.5ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.0ms)
Rendered stories/_story (16.9ms)
Rendered stories/_story (17.5ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 181ms (View: 76, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:13:32) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.4ms)
Rendered stories/_story (17.2ms)
Rendered stories/_story (16.7ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 125ms (View: 72, DB: 2) | 200 OK [http://localhost/stories]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-08 10:17:36) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.6ms)[0m   [0;1mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 322ms (View: 286, DB: 1) | 200 OK [http://localhost/iterations]


Processing IterationsController#new (for 127.0.0.1 at 2009-12-08 10:17:38) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mRelease Load (0.2ms)[0m   [0;1mSELECT * FROM "releases" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "releases" [0m
Rendering template within layouts/main
Rendering iterations/new
Rendered iterations/_form (13.4ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 92ms (View: 38, DB: 1) | 200 OK [http://localhost/iterations/new]


Processing IterationsController#create (for 127.0.0.1 at 2009-12-08 10:17:54) [POST]
  Parameters: {"iteration"=>{"start_date"=>"December 10, 2009 10:17 AM", "name"=>"Iterations 2", "end_date"=>"December 31, 2009 10:17 AM", "velocity"=>"66"}, "commit"=>"Create", "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q="}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Create (0.4ms)[0m   [0mINSERT INTO "iterations" ("name", "start_date", "created_at", "updated_at", "release_id", "velocity", "end_date") VALUES('Iterations 2', '2009-12-10 10:17:00', '2009-12-08 10:17:54', '2009-12-08 10:17:54', NULL, 66, '2009-12-31 10:17:00')[0m
Redirected to http://localhost:3000/iterations
Completed in 50ms (DB: 1) | 302 Found [http://localhost/iterations]


Processing IterationsController#index (for 127.0.0.1 at 2009-12-08 10:17:54) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
Rendering template within layouts/main
Rendering iterations/index
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 66ms (View: 32, DB: 1) | 200 OK [http://localhost/iterations]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:17:57) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.7ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (23.6ms)
Rendered stories/_story (16.6ms)
Rendered stories/_story (73.2ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 183ms (View: 131, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 10:18:01) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.7ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:18:01', "iteration_id" = 2 WHERE "id" = 1[0m
Redirected to http://localhost:3000/stories/1
Completed in 109ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:18:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 58ms (View: 13, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:19:37) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.6ms)
Rendered stories/_story (17.3ms)
Rendered stories/_story (16.7ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 189ms (View: 73, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 10:19:43) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;35;1mStory Update (0.3ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 10:19:43', "iteration_id" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3000/stories/1
Completed in 65ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:19:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.4ms)
Rendered layouts/_footer (0.2ms)
Completed in 120ms (View: 15, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:23:55) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
ERROR: compiling _run_erb_app47views47stories47_story46html46erb_locals_object_story RAISED compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected tASSOC, expecting '}'
...story_path(@story), :format => :js} do |f| 
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:14: syntax error, unexpected tSTRING_BEG, expecting kEND
@output_buffer.concat "              "; @output_buffe...
                       ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:39: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47stories47_story46html46erb_locals_object_story(local_assigns)
            old_output_buffer = output_buffer;story = local_assigns[:story];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!-- stories/_story.html.erb -->\n    "
;  @story = story 
@output_buffer.concat "    <div id=\""; @output_buffer.concat(( element_id(story) ).to_s); @output_buffer.concat "\" class=\"story\">\n      <div class=\"accordion-toggle\">\n        "

; @output_buffer.concat(( in_place_editor_field 'story', 'title' ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( link_to image_tag("/images/icons/delete_icon_20x19.png", :alt => "Delete"), story, :confirm => 'Delete this story?', :method => :delete, :class => "delete-small" ).to_s); @output_buffer.concat "\n      </div>\n      <div id=\""

; @output_buffer.concat(( element_id(story,'scenarios') ).to_s); @output_buffer.concat "\" class=\"accordion-content\">\n        <div class=\"story-props\">\n          <div>"

; @output_buffer.concat(( in_place_editor_field 'story', 'points' ).to_s); @output_buffer.concat " Points</div>\n          "
;  unless @iterations.nil? or @iterations.size == 0 
@output_buffer.concat "          <div>\n            "
;  remote_form_for :story, @story, :url => {story_path(@story), :format => :js} do |f| 
@output_buffer.concat "              "; @output_buffer.concat(( hidden_field_tag '_method', 'PUT' ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( hidden_field_tag 'id', @story.id ).to_s); @output_buffer.concat "\n              "
; @output_buffer.concat(( f.select :iteration_id, @iterations.map{|i|[i.name,i.id]}, {:prompt => "Assign Iteration"}, :id => element_id(@story,'iterations') ).to_s); @output_buffer.concat "\n            "
;  end 
@output_buffer.concat "          </div>\n          "
;  end 
@output_buffer.concat "          <div>"; @output_buffer.concat(( link_to_remote "Scenarios", :url => story_scenarios_path(@story), :method => 'GET' ).to_s); @output_buffer.concat "</div>\n        </div>\n        <p>\n          "


; @output_buffer.concat(( in_place_editor_field 'story', 'description' ).to_s); @output_buffer.concat "\n        </p>\n      </div>\n    </div>\n    \n"




;  content_for :page_end do 
@output_buffer.concat "<script type=\"text/javascript\">\ndocument.observe(\"dom:loaded\", function() {\n  $(\""

; @output_buffer.concat(( element_id(@story, 'iterations') ).to_s); @output_buffer.concat "\").observe(\"change\",function(e) {\n    var el = e.element();\n    if (el.options[el.options.selectedIndex].value != \"\") el.form.submit();\n  });\n});\n</script>\n"





;  end 
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:39:in `compile!'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:39:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/named_scope.rb:109:in `each'
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/index.html.erb:38:in `_run_erb_app47views47stories47index46html46erb'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/steve/Development/Head/branston/branston/lib/branston/app/controllers/stories_controller.rb:23:in `index'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/var/lib/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/var/lib/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/var/lib/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/var/lib/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:13: syntax error, unexpected tASSOC, expecting '}'
...story_path(@story), :format => :js} do |f| 
                              ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:14: syntax error, unexpected tSTRING_BEG, expecting kEND
@output_buffer.concat "              "; @output_buffe...
                       ^
/home/steve/Development/Head/branston/branston/lib/branston/app/views/stories/_story.html.erb:39: syntax error, unexpected kENSURE, expecting $end) on line #13 of app/views/stories/_story.html.erb:
10:           <div><%= in_place_editor_field 'story', 'points' %> Points</div>
11:           <% unless @iterations.nil? or @iterations.size == 0 -%>
12:           <div>
13:             <% remote_form_for :story, @story, :url => {story_path(@story), :format => :js} do |f| -%>
14:               <%= hidden_field_tag '_method', 'PUT' %>
15:               <%= hidden_field_tag 'id', @story.id %>
16:               <%= f.select :iteration_id, @iterations.map{|i|[i.name,i.id]}, {:prompt => "Assign Iteration"}, :id => element_id(@story,'iterations') %>

    app/views/stories/_story.html.erb:39:in `compile!'
    app/views/stories/index.html.erb:39
    app/views/stories/index.html.erb:38
    app/controllers/stories_controller.rb:23:in `index'

Rendered rescues/_trace (108.5ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:24:33) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.9ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.0ms)
Rendered stories/_story (16.2ms)
Rendered stories/_story (15.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 135ms (View: 77, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 10:24:36) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (2.8ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:24:36', "iteration_id" = 2 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (26.7ms)
Completed in 158ms (View: 36, DB: 5) | 200 OK [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:30:40) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.7ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.7ms)
Rendered stories/_story (16.2ms)
Rendered stories/_story (16.1ms)
Rendered layouts/_meta (0.7ms)
Rendered layouts/_header (1.6ms)
Rendered layouts/_footer (0.8ms)
Completed in 199ms (View: 117, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 10:30:45) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.4ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:30:45', "iteration_id" = 1 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (25.5ms)
Completed in 92ms (View: 33, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:33:42) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.5ms)
Rendered stories/_story (17.5ms)
Rendered stories/_story (17.3ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 188ms (View: 138, DB: 2) | 200 OK [http://localhost/stories]


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-08 10:33:46) [POST]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}

ActionController::MethodNotAllowed (Only get, put, and delete requests are allowed.):
  

Rendered rescues/_trace (49.7ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (method_not_allowed)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:34:37) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (29.1ms)
Rendered stories/_story (17.1ms)
Rendered stories/_story (16.2ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 191ms (View: 83, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 10:34:40) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 10:34:40', "iteration_id" = 2 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (21.6ms)
Completed in 85ms (View: 25, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-08 10:35:33) [GET]

ActionController::RoutingError (No route matches "/employers/statutory-pay/smp/step1" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 10:35:41) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.7ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:35:41', "iteration_id" = 1 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (24.1ms)
Completed in 92ms (View: 32, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:35:48) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.4ms)
Rendered stories/_story (14.5ms)
Rendered stories/_story (14.7ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 119ms (View: 71, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:35:49) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (21.4ms)
Rendered stories/_story (15.2ms)
Rendered stories/_story (16.8ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 116ms (View: 67, DB: 2) | 200 OK [http://localhost/stories]


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-08 10:35:52) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (103.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (method_not_allowed)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:36:36) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.2ms)
Rendered stories/_story (16.0ms)
Rendered stories/_story (15.4ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 128ms (View: 77, DB: 3) | 200 OK [http://localhost/stories]


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-08 10:36:39) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (103.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-08 10:36:53) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (53.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (method_not_allowed)


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:36:56) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.1ms)
Rendered stories/_story (16.6ms)
Rendered stories/_story (16.5ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 136ms (View: 79, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:36:59) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.3ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (24.7ms)
Rendered stories/_story (15.7ms)
Rendered stories/_story (16.3ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 121ms (View: 70, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:39:35) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (27.5ms)
Rendered stories/_story (16.9ms)
Rendered stories/_story (16.9ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 133ms (View: 80, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 10:39:38) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 10:39:38', "iteration_id" = 2 WHERE "id" = 1[0m
Redirected to http://localhost:3000/stories/1
Completed in 66ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:39:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 61ms (View: 18, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:50:59) [GET]
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (35.5ms)
Rendered stories/_story (19.2ms)
Rendered stories/_story (18.5ms)
Rendered layouts/_meta (0.8ms)
Rendered layouts/_header (1.7ms)
Rendered layouts/_footer (0.8ms)
Completed in 224ms (View: 135, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update (for 127.0.0.1 at 2009-12-08 10:51:03) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.4ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 10:51:03', "iteration_id" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3001/stories/1
Completed in 116ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:51:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 68ms (View: 20, DB: 2) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 10:51:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/main
Rendering stories/show
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 109ms (View: 36, DB: 1) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 10:51:49) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (36.4ms)
Rendered stories/_story (21.6ms)
Rendered stories/_story (16.7ms)
Rendered layouts/_meta (0.2ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.2ms)
Completed in 148ms (View: 93, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 10:51:52) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;35;1mStory Update (0.3ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 10:51:52', "iteration_id" = 2 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (22.3ms)
Completed in 107ms (View: 30, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 11:00:34) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.0ms)
Rendered stories/_story (15.7ms)
Rendered stories/_story (15.6ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 115ms (View: 66, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 11:02:46) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.9ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 11:02:46', "iteration_id" = 1 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (22.2ms)
Completed in 89ms (View: 25, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing ScenariosController#index (for 127.0.0.1 at 2009-12-08 11:03:43) [GET]
  Parameters: {"authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "story_id"=>"2"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
Rendering scenarios/index
  [4;35;1mScenario Load (0.5ms)[0m   [0mSELECT * FROM "scenarios" WHERE ("scenarios".story_id = 2) [0m
Rendered scenarios/_scenario (141.6ms)
Rendered scenarios/_scenarios (156.9ms)
Completed in 300ms (View: 245, DB: 2) | 200 OK [http://localhost/stories/2/scenarios?authenticity_token=v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q%3D]


Processing StoriesController#show (for 127.0.0.1 at 2009-12-08 11:03:45) [GET]
  Parameters: {"authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"2"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:74)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:76)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from polymorphic_url at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:74)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from polymorphic_url at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:92)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from polymorphic_url at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:92)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from polymorphic_url at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:99)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from polymorphic_url at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:99)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from build_named_route_call at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:155)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from build_named_route_call at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:170)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from build_named_route_call at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/polymorphic_routes.rb:170)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from model_name_from_record_or_class at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/record_identifier.rb:101)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from model_name_from_record_or_class at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/record_identifier.rb:101)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from extract_options! at /var/lib/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/array/extract_options.rb:15)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from build_expiry at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:340)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from generated code (/var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route.rb:160)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:74)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:76)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from story_scenarios_path at (eval):3)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from story_scenarios_path at (eval):3)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:74)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from in_place_editor_field at /home/steve/Development/Head/branston/branston/lib/branston/vendor/plugins/in_place_editing/lib/in_place_macros_helper.rb:76)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from value at /var/lib/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:838)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
DEPRECATION WARNING: @story will no longer be implicitly assigned to story. (called from element_id at /home/steve/Development/Head/branston/branston/lib/branston/app/helpers/application_helper.rb:8)
Rendered stories/_story (22.3ms)
Completed in 68ms (View: 24, DB: 1) | 200 OK [http://localhost/stories/2?authenticity_token=v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q%3D]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 11:03:55) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.7ms)
Rendered stories/_story (16.1ms)
Rendered stories/_story (15.8ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 119ms (View: 68, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 11:04:01) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"2"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.8ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;36;1mStory Update (0.2ms)[0m   [0;1mUPDATE "stories" SET "updated_at" = '2009-12-08 11:04:01', "iteration_id" = 2 WHERE "id" = 1[0m
Rendering stories/update
Rendered stories/_story (27.3ms)
Completed in 92ms (View: 30, DB: 2) | 200 OK [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 11:05:35) [GET]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.7ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.2ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.6ms)
Rendered stories/_story (15.9ms)
Rendered stories/_story (15.6ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 118ms (View: 67, DB: 2) | 200 OK [http://localhost/stories]


Processing StoriesController#update to js (for 127.0.0.1 at 2009-12-08 11:05:39) [PUT]
  Parameters: {"story"=>{"iteration_id"=>"1"}, "authenticity_token"=>"v55IKY2dFYghoH1JKKsgDYP9RQhcydbDNg1HqqwNZ4Q=", "id"=>"1"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mIteration Load (0.8ms)[0m   [0;1mSELECT * FROM "iterations" [0m
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT "stories".id FROM "stories" WHERE ("stories"."title" = 'A user enters a competition' AND "stories".id <> 1) LIMIT 1[0m
  [4;35;1mStory Update (0.2ms)[0m   [0mUPDATE "stories" SET "updated_at" = '2009-12-08 11:05:39', "iteration_id" = 1 WHERE "id" = 1[0m
Redirected to http://localhost:3001/stories
Completed in 65ms (DB: 2) | 302 Found [http://localhost/stories/1.js]


Processing StoriesController#index (for 127.0.0.1 at 2009-12-08 11:05:39) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mIteration Load (0.7ms)[0m   [0mSELECT * FROM "iterations" [0m
  [4;36;1mStory Load (0.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE (iteration_id IS NULL) [0m
Rendering template within layouts/main
Rendering stories/index
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" WHERE (iteration_id IS NOT NULL) [0m
Rendered stories/_story (22.8ms)
Rendered stories/_story (15.6ms)
Rendered stories/_story (15.8ms)
Rendered layouts/_meta (0.1ms)
Rendered layouts/_header (0.3ms)
Rendered layouts/_footer (0.1ms)
Completed in 117ms (View: 67, DB: 2) | 200 OK [http://localhost/stories]
